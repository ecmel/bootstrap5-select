var bootstrap5=function(t,e){"use strict";function s(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)}function i(t,e,s,i,a){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,s):a?a.value=s:e.set(t,s),s}var a,n,h,l,o,r,c,f,d,u,p,m,v,w,b,k,E,g,y,W,M,L,C,S,T,q,A,D;class I{static getInstance(t){return this.map.get(t)}static getOrCreateInstance(t){let e=this.map.get(t);return e||(e=new I(t)),e}constructor(t){a.add(this),n.set(this,void 0),h.set(this,void 0),l.set(this,void 0),o.set(this,void 0),r.set(this,void 0),c.set(this,!1),f.set(this,0),W.set(this,(()=>0===s(this,f,"f")?"":s(this,f,"f").toString())),M.set(this,(()=>{s(this,h,"f").focus()})),L.set(this,(t=>{switch(t.key){case"Enter":0!==s(this,h,"f").value.length&&(t.preventDefault(),s(this,a,"m",b).call(this));break;case"Backspace":0===s(this,h,"f").value.length&&s(this,a,"m",k).call(this);break;case"ArrowDown":s(this,a,"m",E).call(this);break;case"ArrowUp":s(this,a,"m",E).call(this,!0)}})),C.set(this,(()=>{s(this,n,"f").classList.add("focus")})),S.set(this,(()=>{s(this,n,"f").classList.remove("focus")})),T.set(this,(t=>{t.stopPropagation();const e=[],i=s(this,a,"m",v).call(this,s(this,h,"f").value);if(i.length>0)for(const t of s(this,l,"f").options)if(!t.selected){if(s(this,a,"m",v).call(this,t.label).includes(i)){const i=document.createElement("button");i.type="button",i.innerText=t.label,i.dataset.value=t.value,i.dataset.label=t.label,i.classList.add("dropdown-item"),i.addEventListener("click",s(this,D,"f")),e.push(i)}}0===e.length?(s(this,r,"f").hide(),s(this,o,"f").replaceChildren()):(e.sort(((t,e)=>t.dataset.label.localeCompare(e.dataset.label))),s(this,o,"f").replaceChildren(...e),s(this,r,"f").show())})),q.set(this,(t=>{0===s(this,o,"f").children.length&&t.preventDefault()})),A.set(this,(t=>{s(this,o,"f").scroll(0,0)})),D.set(this,(t=>{const e=t.target,i=e.dataset.label,n=e.dataset.value;s(this,a,"m",w).call(this,n),s(this,a,"m",d).call(this,i,n),s(this,a,"m",p).call(this),s(this,a,"m",m).call(this)})),i(this,n,t,"f"),i(this,h,s(this,n,"f").querySelector("input"),"f"),i(this,l,s(this,n,"f").querySelector("select"),"f"),i(this,o,s(this,n,"f").querySelector(".dropdown-menu"),"f"),i(this,r,e.Dropdown.getOrCreateInstance(s(this,h,"f")),"f"),s(this,h,"f").autocomplete="off",i(this,c,""===s(this,n,"f").dataset.mutable||"true"===s(this,n,"f").dataset.mutable,"f"),Object.defineProperty(s(this,n,"f"),"value",{get:s(this,W,"f")}),s(this,h,"f").addEventListener("keydown",s(this,L,"f")),s(this,h,"f").addEventListener("input",s(this,a,"m",y).call(this,s(this,T,"f"))),s(this,h,"f").addEventListener("focusin",s(this,C,"f")),s(this,h,"f").addEventListener("focusout",s(this,S,"f")),s(this,h,"f").addEventListener("show.bs.dropdown",s(this,q,"f")),s(this,h,"f").addEventListener("shown.bs.dropdown",s(this,A,"f")),s(this,n,"f").addEventListener("click",s(this,M,"f")),I.map.set(s(this,n,"f"),this),this.update()}update(){s(this,n,"f").querySelectorAll(".option").forEach((t=>s(this,a,"m",u).call(this,t)));for(const t of s(this,l,"f").selectedOptions)s(this,a,"m",d).call(this,t.label,t.value)}}return n=new WeakMap,h=new WeakMap,l=new WeakMap,o=new WeakMap,r=new WeakMap,c=new WeakMap,f=new WeakMap,W=new WeakMap,M=new WeakMap,L=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,q=new WeakMap,A=new WeakMap,D=new WeakMap,a=new WeakSet,d=function(t,e=""){var a;const l=document.createElement("span");l.classList.add("option"),l.innerText=t,l.dataset.label=t,l.dataset.value=e||t,i(this,f,(a=s(this,f,"f"),++a),"f"),s(this,n,"f").insertBefore(l,s(this,h,"f"))},u=function(t){var e;i(this,f,(e=s(this,f,"f"),--e),"f"),t.remove()},p=function(){s(this,h,"f").value="",s(this,o,"f").replaceChildren()},m=function(){s(this,n,"f").dispatchEvent(new CustomEvent("changed.bs5.select")),s(this,n,"f").dispatchEvent(new CustomEvent("input"))},v=function(t){return t.trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")},w=function(t,e=!0){Array.from(s(this,l,"f").options).find((e=>e.value===t)).selected=e},b=function(){const t=s(this,a,"m",g).call(this);if(t){const e=t.dataset.label,i=t.dataset.value;s(this,a,"m",d).call(this,e,i),s(this,a,"m",w).call(this,i)}else if(s(this,c,"f")){const t=s(this,h,"f").value,e=Array.from(s(this,l,"f").options).find((e=>e.value.trim()===t.trim()));if(e)e.selected||(s(this,a,"m",d).call(this,t),s(this,a,"m",w).call(this,t));else{const e=document.createElement("option");e.value=t,e.label=t,s(this,l,"f").options.add(e),s(this,a,"m",d).call(this,t),s(this,a,"m",w).call(this,t)}}s(this,a,"m",m).call(this),s(this,a,"m",p).call(this),s(this,r,"f").hide()},k=function(){const t=s(this,h,"f").previousElementSibling;t&&(s(this,a,"m",u).call(this,t),s(this,a,"m",w).call(this,t.dataset.value,!1),s(this,a,"m",m).call(this))},E=function(t=!1){const e=s(this,a,"m",g).call(this);if(e){e.classList.remove("active");const s=t?e.previousElementSibling:e.nextElementSibling;if(s)return s.classList.add("active"),void s.scrollIntoView({block:"nearest"})}const i=t?s(this,o,"f").lastElementChild:s(this,o,"f").firstElementChild;i&&(i.classList.add("active"),i.scrollIntoView({block:"nearest"}))},g=function(){return s(this,o,"f").querySelector(".active")},y=function(t,e=250){let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>t(...i)),e)}},I.map=new WeakMap,t.Select=I,t}({},bootstrap);
//# sourceMappingURL=select.js.map
